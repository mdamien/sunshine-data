all: BAYER.anon.csv  BIOGARAN.anon.csv  EFFIK.anon.csv  MSD.anon.csv  PFIZER.anon.csv gynecos.anon.csv Pilule.html

%.anon.csv: %.csv
	awk -F ',' '{print $$1","$$2","$$3","$$7","$$16","$$17","$$13","$$14","$$12","$$9","$$10","$$18","$$22}' $< > $@

BAYER.csv: ../../data/all.unames.csv
	head -n 1 ../../data/all.unames.csv > BAYER.csv
	grep ',BAYER,' ../../data/all.unames.csv >> BAYER.csv

BIOGARAN.csv: ../../data/all.unames.csv
	head -n 1 ../../data/all.unames.csv > BIOGARAN.csv
	grep ',BIOGARAN,' ../../data/all.unames.csv >> BIOGARAN.csv

EFFIK.csv: ../../data/all.unames.csv
	head -n 1 ../../data/all.unames.csv > EFFIK.csv
	grep ',EFFIK,' ../../data/all.unames.csv  >> EFFIK.csv

MSD.csv: ../../data/all.unames.csv
	head -n 1 ../../data/all.unames.csv > MSD.csv
	grep ',MSD,'  ../../data/all.unames.csv >> MSD.csv

PFIZER.csv: ../../data/all.unames.csv
	head -n 1 ../../data/all.unames.csv > PFIZER.csv
	grep  ',PFIZER,'  ../../data/all.unames.csv >> PFIZER.csv

gynecos.csv: ../../data/all.unames.csv
	head -n 1 ../../data/all.unames.csv > gynecos.csv
	grep -i ',gyn' ../../data/all.unames.csv >> gynecos.csv

Pilule.html: Pilule.ipynb
	ipython nbconvert --to html  Pilule.ipynb 

clean:
	rm *csv
